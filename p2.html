<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Michael Loya Studio</title>
<link rel="icon" type="image/svg+xml" href="logo.svg">
<style>
  @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Instrument+Serif:ital@0;1&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --bg: #0a0a0a;
    --text: #f0ece4;
    --text-muted: #8a8580;
    --accent: #e8dcc8;
    --sleeve-shadow: rgba(0,0,0,0.6);
  }

  a, a *, button, button *, [onclick], [onclick] *,
  .project-img, .project-img *,
  .gallery-item, .gallery-item *,
  .sp-play, .sp-play *, .sp-bar, .sp-bar *,
  .lightbox, .lightbox-close,
  .nav-links a, .nav-links a *,
  [draggable="true"],
  .p2-item, .p2-item img,
  .project-img, .project-img img, .project-img video,
  .p2-nav a, .p2-about-back, .p2-contact-links a,
  .p2-project .project-img, .p2-project .project-img img,
  .p2-project-hero, .p2-project-hero img,
  a, button, [onclick] {
    cursor: url('cursor.svg') 18 15, pointer !important;
  }

  body {
    background: #f5f2ed;
    color: #1a1a1a;
    font-family: 'Space Grotesk', sans-serif;
    overflow: hidden;
    margin: 0;
    padding: 0;
    width: 100vw;
    height: 100vh;
  }

  /* ── PROJECT INLINE IMAGES ── */
  .project-img {
    margin: 1.5rem 0;
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    transition: transform 0.25s ease, box-shadow 0.25s ease;
  }
  .project-img:hover {
    transform: scale(1.025);
    box-shadow: 0 8px 30px rgba(0,0,0,0.35);
  }
  .project-img img {
    width: 100%;
    height: auto;
    display: block;
    border-radius: 8px;
  }
  .project-img.img-square { max-width: 420px; }
  .project-img.img-portrait { max-width: 350px; }
  .project-img.img-small { max-width: 200px; }
  .project-img.img-landscape { max-width: 100%; }
  .img-phone-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0.75rem;
    margin: 1.5rem 0;
  }
  .img-phone-grid .project-img { margin: 0; max-width: 100%; }
  .img-phone-grid .project-img:hover { transform: scale(1.04); }
  .img-grid-2 {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    margin: 1.5rem 0;
  }
  .img-grid-2 .project-img { margin: 0; max-width: 100%; }
  .img-grid-4 {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.5rem;
    margin: 1.5rem 0;
  }
  .img-grid-4 .project-img { margin: 0; max-width: 100%; }
  .img-grid-3 {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0.75rem;
    margin: 1.5rem 0;
  }
  .img-grid-3 .project-img { margin: 0; max-width: 100%; }
  .img-grid-5 {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 0.75rem;
    margin: 1.5rem 0;
  }
  .img-grid-5 .project-img { margin: 0; max-width: 100%; }
  .img-grid-4x2 {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.75rem;
    margin: 1.5rem 0;
  }
  .img-grid-4x2 .project-img { margin: 0; max-width: 100%; }
  .img-compose {
    columns: 2;
    column-gap: 0.75rem;
    margin: 1.5rem 0;
  }
  .img-compose .project-img {
    margin: 0 0 0.75rem 0;
    max-width: 100%;
    break-inside: avoid;
    display: inline-block;
    width: 100%;
  }
  .img-compose .project-img img {
    width: 100%;
    height: auto;
    object-fit: contain;
    display: block;
  }
  .img-grid-tight {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0.4rem;
    margin: 1.5rem 0;
  }
  .img-grid-tight .project-img { margin: 0; max-width: 100%; }
  .img-grid-tight .project-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  @media (max-width: 768px) {
    .img-grid-tight { grid-template-columns: repeat(2, 1fr); }
  }

  /* Song player */
  .song-player {
    margin: 1.5rem 0;
    padding: 0;
    display: flex;
    align-items: center;
    gap: 1rem;
  }
  .song-player audio { display: none; }
  .sp-play {
    width: 44px; height: 44px;
    border-radius: 50%;
    border: 1.5px solid var(--accent);
    background: transparent;
    color: var(--accent);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: background 0.2s, color 0.2s;
  }
  .sp-play:hover { background: var(--accent); color: var(--bg); }
  .sp-play svg { width: 16px; height: 16px; fill: currentColor; }
  .sp-meta { flex-shrink: 0; min-width: 0; }
  .song-player .song-title {
    font-family: 'Instrument Serif', serif;
    font-size: 1.1rem;
    line-height: 1.2;
  }
  .song-player .song-artist {
    color: var(--text-muted);
    font-size: 0.75rem;
    letter-spacing: 0.03em;
  }
  .sp-track {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 0.6rem;
    min-width: 0;
  }
  .sp-bar {
    flex: 1;
    height: 2px;
    background: rgba(255,255,255,0.1);
    border-radius: 1px;
    position: relative;
    cursor: pointer;
  }
  .sp-progress {
    height: 100%;
    background: var(--accent);
    border-radius: 1px;
    width: 0%;
    position: relative;
    transition: width 0.1s linear;
  }
  .sp-progress::after {
    content: '';
    position: absolute;
    right: -4px; top: -3px;
    width: 8px; height: 8px;
    border-radius: 50%;
    background: var(--accent);
    opacity: 0;
    transition: opacity 0.2s;
  }
  .sp-bar:hover .sp-progress::after { opacity: 1; }
  .sp-time {
    font-size: 0.7rem;
    color: var(--text-muted);
    font-variant-numeric: tabular-nums;
    flex-shrink: 0;
    min-width: 32px;
  }

  /* Lyrics */
  .lyrics-container {
    margin: 1.5rem 0;
    padding: 1.5rem;
    background: rgba(255,255,255,0.03);
    border-radius: 8px;
    border-left: 3px solid var(--accent);
    font-size: 0.9rem;
    line-height: 1.7;
  }
  .lyrics-container .verse-label {
    color: var(--accent);
    font-weight: 600;
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin: 1.2rem 0 0.4rem;
  }
  .lyrics-container .verse-label:first-child { margin-top: 0; }
  .lyrics-container p { margin: 0; color: var(--text-muted); }

  /* Rhyme colors */
  .r1 { color: #ff6b6b; }
  .r2 { color: #4ecdc4; }
  .r3 { color: #ffe66d; }
  .r4 { color: #a29bfe; }
  .r5 { color: #fd79a8; }
  .r6 { color: #55efc4; }
  .r7 { color: #74b9ff; }
  .r8 { color: #fdcb6e; }
  .r9 { color: #e17055; }
  .r10 { color: #81ecec; }
  .r11 { color: #fab1a0; }
  .r12 { color: #b8e994; }
  .r13 { color: #dfe6e9; }
  .r14 { color: #f8a5c2; }

  /* Match height row */
  .img-match-height {
    display: flex;
    gap: 0.75rem;
    margin: 1.5rem 0;
    align-items: center;
  }
  .img-match-height .project-img { margin: 0; flex: 0 1 auto; }
  .img-match-height .project-img img { height: 300px; width: auto; object-fit: contain; }
  @media (max-width: 768px) {
    .img-match-height { flex-direction: column; }
    .img-match-height .project-img img { height: auto; width: 100%; }
  }

  .project-video {
    margin: 1.5rem 0;
    border-radius: 8px;
    overflow: hidden;
  }
  .project-video video {
    width: 100%;
    display: block;
    border-radius: 8px;
  }

  .img-logos-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1.5rem;
    margin: 1.5rem 0;
  }
  .img-logos-row .project-img { margin: 0; flex: 1; max-width: 48%; }

  .project-body {
    margin-top: 2rem;
    margin-left: auto;
    margin-right: auto;
    color: var(--text-muted);
    line-height: 1.8;
    font-size: 0.95rem;
    max-width: 750px;
  }
  .project-body p { margin-bottom: 1.5rem; }
  .project-body h3 {
    color: var(--text);
    font-family: 'Instrument Serif', serif;
    font-size: 1.4rem;
    font-weight: 400;
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255,255,255,0.06);
  }

  .project-img-video video {
    width: 100%;
    border-radius: 8px;
  }

  @media (max-width: 768px) {
    .img-phone-grid { grid-template-columns: repeat(2, 1fr); }
    .img-grid-4 { grid-template-columns: repeat(2, 1fr); }
    .img-grid-3 { grid-template-columns: repeat(2, 1fr); }
    .img-grid-5 { grid-template-columns: repeat(3, 1fr); }
    .img-grid-4x2 { grid-template-columns: repeat(2, 1fr); }
    .project-img.img-square { max-width: 100%; }
    .project-img.img-portrait { max-width: 100%; }
    .p2-project-top { flex-direction: column; gap: 1.5rem; }
    .p2-project-hero { width: 100%; min-width: unset; }
    .p2-project-header { min-height: unset; }
  }
  @media (max-width: 480px) {
    .img-grid-5 { grid-template-columns: repeat(2, 1fr); }
  }

  /* ── LIGHTBOX ── */
  .lightbox {
    position: fixed;
    inset: 0;
    z-index: 100000;
    background: rgba(0,0,0,0.92);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.25s ease;
    cursor: zoom-out;
  }
  .lightbox.open {
    opacity: 1;
    pointer-events: auto;
  }
  .lightbox img {
    max-width: 92vw;
    max-height: 92vh;
    border-radius: 6px;
    box-shadow: 0 12px 60px rgba(0,0,0,0.6);
    transform: scale(0.92);
    transition: transform 0.3s ease;
  }
  .lightbox.open img { transform: scale(1); }
  .lightbox video {
    max-width: 92vw;
    max-height: 92vh;
    border-radius: 6px;
    box-shadow: 0 12px 60px rgba(0,0,0,0.6);
    transform: scale(0.92);
    transition: transform 0.3s ease;
  }
  .lightbox.open video { transform: scale(1); }
  .lightbox-close {
    position: absolute;
    top: 20px;
    right: 28px;
    color: #fff;
    font-size: 28px;
    cursor: pointer;
    opacity: 0.7;
    transition: opacity 0.2s;
    background: none;
    border: none;
    font-family: inherit;
  }
  .lightbox-close:hover { opacity: 1; }

  /* ── P2: FLOATING PORTFOLIO ── */
  .p2-wrap {
    position: fixed;
    inset: 0;
    background: #f5f2ed;
    z-index: 500;
    overflow: hidden;
    perspective: 1200px;
  }

  .p2-scene {
    width: 100%;
    height: 100%;
    position: relative;
  }

  .p2-title {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) translateZ(0);
    font-family: 'Instrument Serif', serif;
    font-size: 4rem;
    font-weight: 400;
    color: #1a1a1a;
    white-space: nowrap;
    pointer-events: none;
    z-index: 10;
    text-align: center;
  }

  .p2-title span {
    font-style: italic;
    color: #999;
  }

  .p2-nav {
    display: flex;
    gap: 2rem;
    justify-content: center;
    margin-top: 0.75rem;
    pointer-events: auto;
  }
  .p2-nav a {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #888;
    text-decoration: none;
    cursor: pointer;
    transition: color 0.3s;
    pointer-events: auto;
  }
  .p2-nav a:hover { color: #222; }

  /* ── P2 ABOUT (zoom-out reveal) ── */
  .p2-about {
    position: absolute;
    inset: 0;
    background: #f5f2ed;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.5s ease 0.3s;
    z-index: 1;
    overflow: hidden;
  }
  .p2-about.visible { opacity: 1; pointer-events: all; }
  .p2-about-scroll {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .p2-about-content {
    max-width: 900px;
    width: 100%;
    padding: 2rem 3rem;
  }
  .p2-about-back {
    display: inline-block;
    margin-bottom: 2.5rem;
    font-family: 'Space Grotesk', sans-serif;
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #999;
    cursor: pointer;
    transition: color 0.3s;
    text-decoration: none;
  }
  .p2-about-back:hover { color: #222; }

  .p2-about-hero {
    display: flex;
    gap: 2.5rem;
    align-items: flex-start;
  }
  .p2-about-portrait {
    flex-shrink: 0;
    width: 220px;
    border-radius: 8px;
    box-shadow: 0 12px 40px rgba(0,0,0,0.08);
    object-fit: cover;
  }
  .p2-about-text { flex: 1; }
  .p2-about-text h1 {
    font-family: 'Instrument Serif', serif;
    font-size: 2.4rem;
    font-weight: 400;
    margin: 0 0 0.6rem;
    color: #1a1a1a;
  }
  .p2-about-text h1 em { font-style: italic; color: #999; }
  .p2-about-text p {
    font-family: 'Space Grotesk', sans-serif;
    color: #555;
    line-height: 1.65;
    font-size: 0.92rem;
    margin-bottom: 0.75rem;
  }
  .p2-experience {
    margin-top: 1.75rem;
    padding-top: 1.5rem;
    border-top: 1px solid #ddd;
  }
  .p2-experience h3 {
    font-family: 'Instrument Serif', serif;
    font-size: 1.3rem;
    font-weight: 400;
    color: #1a1a1a;
    margin: 0 0 1rem;
  }
  .p2-exp-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem 2.5rem;
  }
  .p2-exp-item {
    padding: 0.75rem 0;
    border-bottom: 1px solid #e8e4de;
  }
  .p2-exp-item:nth-last-child(-n+2) { border-bottom: none; }
  .p2-exp-role {
    font-family: 'Space Grotesk', sans-serif;
    font-weight: 600;
    font-size: 0.85rem;
    color: #1a1a1a;
    margin-bottom: 0.15rem;
  }
  .p2-exp-company {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 0.8rem;
    color: #666;
  }
  .p2-exp-date {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 0.72rem;
    color: #999;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 0.3rem;
  }
  .p2-exp-desc {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 0.82rem;
    color: #666;
    line-height: 1.55;
    margin-top: 0.3rem;
  }

  /* P2 Contact */
  .p2-contact {
    position: absolute;
    inset: 0;
    background: #f5f2ed;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.5s ease 0.3s;
    z-index: 1;
  }
  .p2-contact.visible { opacity: 1; pointer-events: all; }
  .p2-contact-content { text-align: center; }
  .p2-contact-content h1 {
    font-family: 'Instrument Serif', serif;
    font-size: 3rem;
    font-weight: 400;
    color: #1a1a1a;
    margin-bottom: 1rem;
  }
  .p2-contact-content h1 em { font-style: italic; color: #999; }
  .p2-contact-content > p {
    font-family: 'Space Grotesk', sans-serif;
    color: #888;
    font-size: 1.05rem;
    margin-bottom: 2.5rem;
  }
  .p2-contact-links {
    display: flex;
    gap: 2rem;
    justify-content: center;
    margin-bottom: 2.5rem;
  }
  .p2-contact-links a {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: #1a1a1a;
    text-decoration: none;
    padding: 0.75rem 1.5rem;
    border: 1.5px solid #ccc;
    border-radius: 6px;
    transition: all 0.3s;
  }
  .p2-contact-links a:hover {
    border-color: #222;
    background: rgba(0,0,0,0.04);
  }

  /* ── P2 PROJECT DETAIL (shared-element zoom-in) ── */
  .p2-project {
    position: absolute;
    inset: 0;
    background: #f5f2ed;
    opacity: 0;
    pointer-events: none;
    z-index: 2;
    overflow: hidden;
    transition: opacity 0.5s ease 0.3s;
  }
  .p2-project.visible { opacity: 1; pointer-events: all; }
  .p2-project-scroll {
    width: 100%;
    height: 100%;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  .p2-project-content {
    max-width: 900px;
    width: 100%;
    margin: 0 auto;
    padding: 2rem 3rem 4rem;
  }
  .p2-project-top {
    display: flex;
    gap: 2.5rem;
    align-items: flex-start;
    margin-bottom: 2.5rem;
  }
  .p2-project-hero {
    width: 280px;
    min-width: 280px;
    max-height: 320px;
    border-radius: 10px;
    overflow: hidden;
    opacity: 0;
    transform: translateY(15px);
    transition: opacity 0.4s ease, transform 0.4s ease;
  }
  .p2-project-hero.visible { opacity: 1; transform: translateY(0); cursor: pointer; }
  .p2-project-hero.visible:hover { box-shadow: 0 8px 30px rgba(0,0,0,0.15); }
  .p2-project-hero img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }
  .p2-project-header {
    flex: 1;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s ease, transform 0.5s ease;
    display: flex;
    flex-direction: column;
    justify-content: center;
    min-height: 0;
  }
  .p2-project-header.visible {
    opacity: 1;
    transform: translateY(0);
  }
  .p2-project-header h1 {
    font-family: 'Instrument Serif', serif;
    font-size: 2.8rem;
    font-weight: 400;
    color: #1a1a1a;
    margin: 0 0 1rem;
    line-height: 1.15;
  }
  .p2-project-meta {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    font-family: 'Space Grotesk', sans-serif;
    font-size: 0.82rem;
    color: #888;
    text-transform: uppercase;
    letter-spacing: 0.06em;
  }
  .p2-project-meta span {
    display: block;
  }
  .p2-project-meta .p2-meta-label {
    font-size: 0.65rem;
    letter-spacing: 0.12em;
    color: #bbb;
    margin-bottom: -0.15rem;
  }
  .p2-project-back-row {
    opacity: 0;
    transform: translateY(10px);
    transition: opacity 0.4s ease, transform 0.4s ease;
  }
  .p2-project-back-row.visible {
    opacity: 1;
    transform: translateY(0);
  }
  .p2-project-body {
    font-family: 'Space Grotesk', sans-serif;
    color: #555;
    line-height: 1.7;
    font-size: 0.92rem;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s ease, transform 0.5s ease;
  }
  .p2-project-body.visible {
    opacity: 1;
    transform: translateY(0);
  }
  .p2-project-body p { margin-bottom: 1rem; }
  .p2-project-body h3 {
    font-family: 'Instrument Serif', serif;
    font-size: 1.4rem;
    font-weight: 400;
    color: #1a1a1a;
    margin: 2rem 0 0.75rem;
  }
  .p2-project-body a { color: #1a1a1a !important; text-decoration: underline; }
  .p2-project-body a:hover { color: #555 !important; }

  /* (fly-img and scene-child-fade removed — projects now use zoomed-out like about/contact) */

  /* Image grids inside P2 project */
  .p2-project .project-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    border-radius: 6px;
  }
  .p2-project .project-img {
    border-radius: 6px;
    overflow: hidden;
    cursor: pointer;
    transition: transform 0.25s ease, box-shadow 0.25s ease;
  }
  .p2-project .img-compose .project-img {
    margin-bottom: 0.75rem;
    display: inline-block;
    width: 100%;
  }
  .p2-project .project-img:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
  }
  .p2-project .project-img-video video {
    width: 100%;
    border-radius: 6px;
  }
  .p2-project .project-video {
    width: 100%;
    border-radius: 6px;
  }
  /* Light-theme overrides for lyrics / song player */
  .p2-project .verse-label { color: #888; }
  .p2-project .lyrics-container {
    background: rgba(0,0,0,0.03);
    border: 1px solid #ddd;
    color: #555;
    border-radius: 8px;
  }
  .p2-project .song-player {
    background: rgba(0,0,0,0.03);
    border: 1px solid #ddd;
    border-radius: 8px;
    color: #555;
  }
  .p2-project .song-player .sp-title { color: #1a1a1a; }
  .p2-project .song-player .sp-artist { color: #888; }
  /* Image grid spacing */
  .p2-project .img-grid-2,
  .p2-project .img-grid-3,
  .p2-project .img-grid-4,
  .p2-project .img-grid-5,
  .p2-project .img-grid-4x2,
  .p2-project .img-grid-tight,
  .p2-project .img-compose,
  .p2-project .img-logos-row {
    margin-bottom: 1rem;
  }
  .p2-project .img-match-height img { object-fit: cover; }

  /* P2 scene zoom-out */
  .p2-scene {
    transition: transform 0.85s cubic-bezier(0.25, 0.46, 0.45, 0.94),
                filter 0.85s cubic-bezier(0.25, 0.46, 0.45, 0.94),
                opacity 0.85s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    transform-origin: center center;
  }
  .p2-scene.zoomed-out {
    transform: scale(0.6);
    filter: blur(16px);
    opacity: 0;
    pointer-events: none;
  }

  .p2-item {
    position: absolute;
    width: 180px;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 8px 30px rgba(0,0,0,0.12);
    cursor: pointer;
    transition: filter 0.5s ease, box-shadow 0.3s, height 0.4s ease;
  }
  .p2-item:hover {
    filter: blur(0px) !important;
    box-shadow: 0 12px 50px rgba(0,0,0,0.2);
  }
  .p2-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }
  .p2-item.p2-item-square {
    height: var(--p2-item-size, 180px);
    aspect-ratio: auto;
  }
  .p2-item.p2-item-square:hover {
    height: var(--p2-item-natural, auto);
  }
  .p2-item .p2-label {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 0.5rem;
    background: linear-gradient(transparent, rgba(0,0,0,0.8));
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--text);
  }

  .p2-coming-soon {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.7);
    backdrop-filter: blur(8px);
    z-index: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 1.5rem;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
  }
  .p2-coming-soon.active { opacity: 1; pointer-events: all; }
  .p2-coming-soon h2 {
    font-family: 'Instrument Serif', serif;
    font-size: 3rem;
    font-weight: 400;
    color: #fff;
  }
  .p2-coming-soon button {
    background: none;
    border: 1px solid rgba(255,255,255,0.3);
    color: #fff;
    padding: 0.6rem 1.5rem;
    border-radius: 6px;
    font-family: 'Space Grotesk', sans-serif;
    font-size: 0.85rem;
    cursor: pointer;
  }

  .p2-die-float {
    position: absolute;
    width: 50px;
    height: 50px;
    background: #e8e4de;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .p2-die-float .die-dot {
    width: 10px;
    height: 10px;
    background: #1a1a1a;
    border-radius: 50%;
    position: static;
  }
</style>
</head>
<body style="background:#f5f2ed">

<!-- P2: FLOATING PORTFOLIO -->
<div class="p2-wrap" id="p2Wrap">
  <!-- P2 About layer (behind the scene) -->
  <div class="p2-about" id="p2About">
    <div class="p2-about-scroll">
      <div class="p2-about-content">
        <a class="p2-about-back" onclick="p2CloseAbout()">← Back</a>
        <div class="p2-about-hero">
          <img class="p2-about-portrait" src="mike-portrait.jpg" alt="Michael Loya">
          <div class="p2-about-text">
            <h1>About <em>me</em></h1>
            <p>I'm a designer who works at the intersection of music, technology, and visual storytelling. Currently studying at Syracuse University, I split my time between design direction for University Union, personal creative projects, and working with AI and emerging tech — staying on top of new tools as they drop and always integrating them into my process.</p>
            <p>My work ranges from brand identity and editorial design to AR experiences, UI/UX, and music production. I adapt quickly, experiment across mediums, and believe the best creative work comes from genuine curiosity.</p>
          </div>
        </div>

        <div class="p2-experience">
          <h3>Experience</h3>
          <div class="p2-exp-grid">
            <div class="p2-exp-item">
              <div class="p2-exp-role">Graphic Design & Video Intern</div>
              <div class="p2-exp-company">BODYARMOR Sports Nutrition</div>
              <div class="p2-exp-date">Jun — Aug 2025</div>
              <div class="p2-exp-desc">Designed POS ads deployed across hundreds of retail locations nationwide. Produced an original Powerade fall football video ad. Led AI capstone project, presented to C-suite executives.</div>
            </div>
            <div class="p2-exp-item">
              <div class="p2-exp-role">Design Co-Director</div>
              <div class="p2-exp-company">University Union</div>
              <div class="p2-exp-date">Dec 2024 — Present</div>
              <div class="p2-exp-desc">Lead design board for events, social media, and marketing. Oversee visual direction for major campus concerts and festivals.</div>
            </div>
            <div class="p2-exp-item">
              <div class="p2-exp-role">Head of Design</div>
              <div class="p2-exp-company">20 Watts Magazine</div>
              <div class="p2-exp-date">Sep — Dec 2024</div>
              <div class="p2-exp-desc">Designed event graphics and promotional materials. Created onboarding tutorials and mentored design team.</div>
            </div>
            <div class="p2-exp-item">
              <div class="p2-exp-role">Head of Design</div>
              <div class="p2-exp-company">Mixtape Magazine</div>
              <div class="p2-exp-date">Sep 2022 — Sep 2024</div>
              <div class="p2-exp-desc">Led design for print and digital materials. Collaborated with editorial on visual concepts from conception to finish.</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- P2 Project detail layer -->
  <div class="p2-project" id="p2Project">
    <div class="p2-project-scroll">
      <div class="p2-project-content">
        <div class="p2-project-back-row" id="p2ProjectBackRow">
          <a class="p2-about-back" onclick="p2CloseProject()">← Back</a>
        </div>
        <div class="p2-project-top" id="p2ProjectTop">
          <div class="p2-project-hero" id="p2ProjectHero">
            <img id="p2ProjectHeroImg" src="" alt="">
          </div>
          <div class="p2-project-header" id="p2ProjectHeader">
            <h1 id="p2ProjectTitle"></h1>
            <div class="p2-project-meta">
              <span class="p2-meta-label">Category</span>
              <span id="p2ProjectCategory"></span>
              <span class="p2-meta-label">Tools</span>
              <span id="p2ProjectTools"></span>
              <span class="p2-meta-label">Year</span>
              <span id="p2ProjectYear"></span>
            </div>
          </div>
        </div>
        <div class="p2-project-body" id="p2ProjectBody"></div>
      </div>
    </div>
  </div>
  <!-- P2 Contact layer (behind the scene) -->
  <div class="p2-contact" id="p2Contact">
    <div class="p2-contact-content">
      <h1>Let's <em>connect</em></h1>
      <p>Always open to new projects, collaborations, and conversations.</p>
      <div class="p2-contact-links">
        <a href="https://instagram.com/michaelloyastudio" target="_blank">Instagram</a>
        <a href="https://www.linkedin.com/in/michael-loya/" target="_blank">LinkedIn</a>
        <a href="mailto:michaelloyadesign@gmail.com">Email</a>
      </div>
      <a class="p2-about-back" onclick="p2CloseContact()">← Back</a>
    </div>
  </div>
  <!-- Floating scene (on top) -->
  <div class="p2-scene" id="p2Scene">
    <div class="p2-title">
      <img src="logo.svg" style="height:44px;width:auto;filter:brightness(0);margin-right:0.5rem;vertical-align:middle;position:relative;top:-6px;">Michael Loya <span>Studio</span>
      <div class="p2-nav">
        <a onclick="p2ShowAbout()">About</a>
        <a onclick="p2ShowContact()">Contact</a>
      </div>
    </div>
  </div>

  <div class="p2-coming-soon" id="p2ComingSoon">
    <h2>Coming Soon</h2>
    <button onclick="document.getElementById('p2ComingSoon').classList.remove('active')">Close</button>
  </div>
</div><!-- end p2-wrap -->

<!-- Lightbox (OUTSIDE p2-wrap — perspective breaks position:fixed inside) -->
<div class="lightbox" id="lightbox">
  <button class="lightbox-close">&times;</button>
  <img src="" alt="Full size preview" id="lightboxImg">
  <video src="" id="lightboxVideo" playsinline muted style="display:none;max-width:92vw;max-height:92vh;border-radius:6px;box-shadow:0 12px 60px rgba(0,0,0,0.6);"></video>
</div>

<script>
const projects = [
  {
    title: "Sound & Vision",
    overlayTitle: "Sound<br>& Vision",
    category: "Cover Art / Motion / Music",
    tools: "Illustrator, Photoshop, After Effects, Blender, AI",
    year: "2023–Present",
    cover: `img/DnDFinal.jpeg`,
    images: [],
    content: `<p>I collaborate with my brother, who produces music under our last name Loya (stylized as "loya"), bringing his music to life through cover art, motion graphics, and social content. I've also created pieces for other artists, tailoring visuals to fit their sound and aesthetic.</p>
<h3><a href="https://open.spotify.com/artist/5gNQpoYEBE1jxjCgFkLWce?si=AsVRN9PsRu2rgS5POckwnQ" target="_blank" style="color:var(--accent);text-decoration:underline;">loya</a></h3>
<p>The cover art is for loya's upcoming EP, <a href="https://open.spotify.com/album/6roxGKDYkVpcbcdqdpj6gG?si=mku1Dh4nR9OR_AJf92bb5Q" target="_blank" style="color:var(--accent);text-decoration:underline;"><em>Diamonds and Damage</em></a>, which he produced alongside his friend, Nicky. Loya had a clear vision for the design—a portrait of a woman surrounded by falling diamonds—and reached out to me to bring it to life. We started with a reference image to generate the portrait, then created multiple diamond variations. The assets were created by Adobe Firefly and then arranged, composed, and edited by me. After eight exports, we arrived at the final design.</p>
<div class="img-grid-4">
<div class="project-img"><img src="img/all/Screenshot_2025-03-21_at_6.45.47_PM.jpg" alt="Reference photo" loading="lazy"></div>
<div class="project-img"><img src="img/all/Firefly_20250319125548_(1).jpg" alt="Firefly generated asset" loading="lazy"></div>
<div class="project-img"><img src="img/all/DnDv1.jpg" alt="Diamonds and Damage variation 1" loading="lazy"></div>
<div class="project-img"><img src="img/all/DnDv2.jpg" alt="Diamonds and Damage variation 2" loading="lazy"></div>
<div class="project-img"><img src="img/all/DnDv3.jpg" alt="Diamonds and Damage variation 3" loading="lazy"></div>
<div class="project-img"><img src="img/all/DnDv4.jpg" alt="Diamonds and Damage variation 4" loading="lazy"></div>
<div class="project-img"><img src="img/all/DnDv7.jpg" alt="Diamonds and Damage variation 7" loading="lazy"></div>
<div class="project-img"><img src="img/all/DnDv8.jpg" alt="Diamonds and Damage variation 8" loading="lazy"></div>
</div>
<p>I've also produced short vertical videos for loya's Spotify, known as "Canvas" visuals — dynamic, looping videos using After Effects and Blender that add an extra layer of engagement to his tracks.</p>
<div class="project-img project-img-video" data-video-src="img/all/Canvases.mp4"><video src="img/all/Canvases.mp4" autoplay loop muted playsinline style="width:100%;"></video></div>
<p>As loya's brand continued to grow, I recognized the need for a distinct logo that would enhance recognizability and adaptability across different platforms. Since he's an avid collector of unique hats, it felt natural to base the design on one of his favorites. I landed on Amador, a blackletter font that balances elegance with edge, fitting seamlessly with loya's artistic identity.</p>
<div class="project-img img-landscape"><img src="img/all/LoyaLOGOprocess.jpg" alt="loya logo design process" loading="lazy"></div>
<div class="img-logos-row">
<div class="project-img img-landscape"><img src="img/all/LoyaLOGO_solo.png" alt="loya logo final" loading="lazy"></div>
<div class="project-img img-landscape"><img src="img/all/LoyaLOGO_outline.png" alt="loya logo outline" loading="lazy"></div>
</div>
<h3>Small Projects</h3>
<p>I created a motion graphic and posters for <a href="https://open.spotify.com/artist/2848adRcxvgWNRcz1g1tQD?si=SYY1m9QBSYaGsj-x30nrzQ" target="_blank" style="color:var(--accent);text-decoration:underline;">Felly</a>, an independent artist from my hometown with 556k monthly Spotify listeners. Our paths crossed when I met him at a show, and he's had a huge impact on my journey. I focused on creating designs that captured the essence of his sound and aesthetic.</p>
<div class="img-grid-3">
<div class="project-img"><img src="img/all/Fel1.jpg" alt="Felly poster design 1" loading="lazy"></div>
<div class="project-img"><img src="img/all/Fel2.jpg" alt="Felly poster design 2" loading="lazy"></div>
<div class="project-img"><img src="img/all/Fel3.jpg" alt="Felly poster design 3" loading="lazy"></div>
</div>
<div class="project-img project-img-video" data-video-src="img/all/FellyRender.mp4"><video src="img/all/FellyRender.mp4" autoplay loop muted playsinline style="width:100%;"></video></div>
<p>I pitched a cover art concept for the artist <a href="https://open.spotify.com/artist/4DSFmAOMwMqDVKIsPY0kqs?si=IuyZFZwoTCCsxNR4Py_JHA" target="_blank" style="color:var(--accent);text-decoration:underline;">Sweezy</a>. While ultimately rejected, I'm proud of the design and the creative process behind it. I also designed cover art for Chitt, who my brother and I met as a kid at our summer house. Now collaborating with loya, it was great to work on something for an artist with such a personal connection to us.</p>
<div class="img-grid-2">
<div class="project-img"><img src="img/all/ExoticSweezyv4.jpg" alt="Sweezy cover art concept" loading="lazy"></div>
<div class="project-img"><img src="img/all/FeelYourLove.jpg" alt="Chitt cover art" loading="lazy"></div>
</div>`
  },
  {
    title: "BODYARMOR & Powerade",
    overlayTitle: "BODYARMOR<br>& Powerade",
    category: "Internship / Branding / AI",
    tools: "Photoshop, Illustrator, Premiere, After Effects, AI Tools",
    year: "2025",
    cover: `img/bapa.png`,
    images: [],
    content: `<p>Last summer I interned with BODYARMOR and Powerade in Queens, NY, designing POS ads, producing a Powerade fall football video ad, and creating an AI-generated BODYARMOR commercial as my capstone project. The internship pushed my design and technical skills while giving me hands-on experience at the intersection of brand storytelling and emerging technology.</p>
<h3>Internship Work</h3>
<p>Day-to-day work involved reformatting BODYARMOR and Powerade creative into POS ads (window clings, cooler clings, end caps). Beyond that, I produced an original video ad for Powerade's fall football campaign, combining brand photography with stock video into a dynamic piece of content.</p>
<div class="project-img project-img-video" data-video-src="img/all/PA_Fall_Football.mp4"><video src="img/all/PA_Fall_Football.mp4" autoplay loop muted playsinline style="width:100%;"></video></div>
<h3>Capstone Project</h3>
<p>For my capstone, I explored AI in creative production. My initial concept featured Joe Burrow ("Joe Chill") for BODYARMOR Chill, but AI struggled with character consistency. I pivoted to product visuals and created a commercial generated almost entirely with AI.</p>
<div class="img-match-height">
<div class="project-img"><img src="img/all/textclarity1.jpg" alt="AI character consistency challenge - snow scene" loading="lazy"></div>
<div class="project-img"><img src="img/all/textclarity2.jpg" alt="AI character consistency challenge - ice cave" loading="lazy" style="object-fit:cover;width:100%;object-position:40% center;"></div>
</div>
<p>I built a full AI workflow using Runway and Kling for imagery/video, Topaz Labs for upscaling, ElevenLabs for voiceover, and After Effects for the final edit. Prompt engineering was key to getting consistent, usable results.</p>
<div class="project-img project-img-video" data-video-src="img/all/kling.mp4"><video src="img/all/kling.mp4" autoplay loop muted playsinline style="width:100%;"></video></div>
<h3>Final Result</h3>
<p>The final AI-generated commercial was presented to C-suite executives. At the time, my takeaway was that AI worked for quick-turn content like product shots and social ads, but wasn't ready for high-end campaign work. That's changing fast — these tools are progressing at an incredible pace, and I plan to stay ahead of the curve.</p>
<div class="project-video"><video src="img/all/AIBACommercial.mp4" controls playsinline preload="metadata" poster="img/all/ba_frame_45s.jpg"></video></div>`
  },
  {
    title: "AI Song",
    category: "Music Production / AI / Design",
    tools: "FL Studio, ElevenLabs, Illustrator, ChatGPT",
    year: "2025",
    cover: `img/LimitsCover.jpg`,
    images: [],
    content: `<p>I wrote a track over a Jack Harlow-type beat and used ElevenLabs to create an AI voice clone of Jack as a fake feature. I trained the model on his acapella vocals, designed the cover art with ChatGPT and Illustrator, and produced everything in FL Studio. When I posted it, a few friends genuinely thought the Jack verse was real.</p>
<p>Cover concepts generated in ChatGPT, refined in Illustrator. The final cover is bottom-right.</p>
<div class="img-grid-3">
<div class="project-img"><img src="img/all/ChatGPT_Image_Sep_13,_2025,_04_19_47_PM.jpg" alt="AI cover concept 1" loading="lazy"></div>
<div class="project-img"><img src="img/all/ChatGPT_Image_Sep_13,_2025,_04_20_16_PM.jpg" alt="AI cover concept 2" loading="lazy"></div>
<div class="project-img"><img src="img/all/ChatGPT_Image_Sep_13,_2025,_04_20_11_PM.jpg" alt="AI cover concept 3" loading="lazy"></div>
<div class="project-img"><img src="img/all/ChatGPT_Image_Sep_13,_2025,_04_20_23_PM.jpg" alt="AI cover concept 4" loading="lazy"></div>
<div class="project-img"><img src="img/all/ChatGPT_Image_Sep_13,_2025,_04_20_12_PM.jpg" alt="AI cover concept 5" loading="lazy"></div>
<div class="project-img"><img src="img/LimitsCover.jpg" alt="Limits final cover art" loading="lazy"></div>
</div>
<p>I also mocked up a fake DM from Jack Harlow in Photoshop and posted it alongside the track. Tons of people reached out asking if it was real.</p>
<div class="project-img img-landscape"><img src="img/all/HarlowDM_Mockup.jpg" alt="Fake DM with Jack Harlow phone mockup" loading="lazy"></div>
<p>The full track below features two verses: mine and an AI-generated Jack Harlow verse built from his isolated vocals. Lyrics are color-coded by rhyme scheme.</p>
<p style="font-size:0.85em;opacity:0.6;">⚠️ Explicit language</p>
<div class="song-player" id="songPlayer">
<button class="sp-play" id="spPlay"><svg viewBox="0 0 24 24"><polygon points="6,3 20,12 6,21" id="spIcon"/></svg></button>
<div class="sp-meta">
<div class="song-title">Limits (feat. Jack Harlow)</div>
<div class="song-artist">Fucius · 203 Records</div>
</div>
<div class="sp-track">
<span class="sp-time" id="spCur">0:00</span>
<div class="sp-bar" id="spBar"><div class="sp-progress" id="spProg"></div></div>
<span class="sp-time" id="spDur">--:--</span>
</div>
<audio preload="metadata" src="img/all/Limits.mp3" id="spAudio"></audio>
</div>
<div class="lyrics-container">
<div class="verse-label">Verse 1: Fucius</div>
<p>Wondering if ima ever reach the fucking <span class="r1">ceiling</span><br>I don't fuck with <span class="r5">critics</span>, lemme tell you 'bout my <span class="r5">limits</span><br>Flexing on your former brethren just ain't <span class="r1">appealing</span><br>I'm <span class="r1">feeling</span>, the heat that I'm <span class="r1">concealing</span> is a <span class="r2">light jab</span><br>Controversy gonna follow when you <span class="r2">like that</span><br>Tryna tell me what the key is, you can <span class="r2">type that</span><br>If that's how ima make it <span class="r1">thrilling</span>, then I'm <span class="r2">Mike Jack</span><br>When I'm talking 'bout a plug, I mean the <span class="r2">mic jack</span><br>Punching in to bring the <span class="r2">action</span> like it's <span class="r2">IMAX</span><br>If they sleeping on the <span class="r3">sound</span>, then it's <span class="r2">night class</span><br><span class="r2">Try</span> and break the <span class="r2">stride</span>, then I'll put you in a <span class="r2">nice cast</span><br>If I'm blowing up in Texas, then I'm <span class="r2">like Dak</span><br>Push me to the <span class="r3">ground</span> and I'm <span class="r2">right back</span><br>Never scared to <span class="r2">fight back</span><br>South Beach is where the <span class="r2">lights at</span><br>I'm going <span class="r2">blind</span> from the <span class="r2">bright flash</span><br>I cross the strip <span class="r2">like</span> a <span class="r2">live match</span><br>Watch me <span class="r2">fly past</span>, these up and comers are <span class="r3">plain</span><br>Scared to navigate the scene, but I know the <span class="r3">terrain</span><br>Getting dirty in the <span class="r3">game</span>, it's <span class="r4">official</span><br>Never <span class="r14">fold</span>, bring it <span class="r14">home</span> for the <span class="r14">gold</span> like I'm <span class="r4">Kittle</span><br>For my dogs, got the <span class="r4">kibble</span><br>I haven't been <span class="r6">writing</span>, I just <span class="r4">scribble</span><br>They yelling at me "Mike drop"—I don't ever tote a <span class="r13">gun</span><br>But the <span class="r13">bump</span> stock, is <span class="r4">beneficial</span> for the <span class="r5">hitmen</span><br>Catch me <span class="r6">writing</span> <span class="r6">lines</span>, I'm <span class="r6">live</span> when I'm in <span class="r5">Whitman</span><br>All about that <span class="r6">wine</span> and <span class="r6">dine</span>, I'm too <span class="r5">lit, man</span><br>I may not <span class="r6">align</span> with <span class="r6">times</span>, but who's <span class="r5">ticking</span><br><span class="r5">Tick, tick, tick, tick, tick</span><br>Pyromaniacs' craniums get elated when I'm <span class="r5">spitting</span><br>Gassing me up, I'm <span class="r1">filling</span> up for the <span class="r5">mission</span><br>Money's a <span class="r13">plus</span>, but not the <span class="r13">sum</span>—an <span class="r5">addition</span><br>(Admiration when I'm <span class="r12">static</span>)<br>You know my image <span class="r12">holographic</span>, <span class="r5">limited</span> <span class="r5">edition</span></p>
<div class="verse-label">Verse 2: AI Jack Harlow</div>
<p>This ain't my <span class="r7">last chance</span><br>I'm just doing this for Fucius, he a <span class="r7">mad man</span><br>He yelling "<span class="r7">Jack, man</span>, come and bring the <span class="r7">facts, man</span>"<br>Kentucky boy getting chicken, I'm a <span class="r7">fat man</span><br>Pick up the <span class="r9">girls</span> with the <span class="r9">curls</span>, I'm feeling <span class="r7">jacked, man</span><br>Came with the <span class="r9">pearls</span>, now your <span class="r9">girl</span> give me a <span class="r7">lap dance</span><br>Said she like surprises, I tell her come and <span class="r8">see</span><br>I'm Jack in the box, I'm popping out when she <span class="r8">need</span><br>And that's <span class="r8">frequently</span>, she loving the <span class="r8">secrecy</span><br>Frolic 'round the pad in her panties so <span class="r8">indecently</span><br>Give her love <span class="r8">peacefully</span>, I could bust <span class="r8">easily</span><br>Pussy so amazing got me thinking she a <span class="r8">deity</span><br>But I ain't ignorant, she got the <span class="r8">best of me</span><br>She just get what she wants and leave the <span class="r8">rest of me</span><br>I don't give a damn if the haters wanna <span class="r8">wrestle me</span><br>You can catch a ride in my wake, just leave the <span class="r8">rest to me</span><br>And fuck 'em if they <span class="r8">mess with me</span><br><span class="r8">Testing me</span>? That's a deadly <span class="r8">recipe</span><br>I chef the scene while you barely catching <span class="r8">breath to breathe</span><br>Tryna come and <span class="r8">flex on me</span>? Boy, that's just a <span class="r8">fantasy</span><br>I'm moving with a purpose while your crew just move <span class="r8">frantically</span><br>I been in the cut like a motherfucking <span class="r9">tendon</span><br>Grind so <span class="r10">relentless</span> I been losing all my <span class="r9">senses</span><br>Never need a gimmick, never needed no <span class="r9">amendment</span><br>Every bar has been <span class="r9">cemented</span>, every move is <span class="r9">independent</span><br>I return all my <span class="r9">investments</span>, every check has been a <span class="r9">blessing</span><br>I stand on business like <span class="r9">defendants</span><br>I make a <span class="r1">killing</span> when I <span class="r11">write</span>, so don't you ever <span class="r11">disrespect it</span><br>I'm the <span class="r1">illest</span> on the <span class="r11">mic</span>, so when I <span class="r11">pass it</span>, <span class="r11">disinfect it</span> (achoo)<br>I'm <span class="r6">sick</span> of the <span class="r6">bitching</span>, and <span class="r6">bitch</span>, I'm looking at <span class="r14">you</span><br>I'll <span class="r6">hit</span> what you're <span class="r6">pitching</span> and <span class="r6">switch it</span> back on <span class="r14">you</span><br>You claim you got a <span class="r6">vision</span> that can bring you to the <span class="r14">views</span><br>But you're stuck in the basement and pray to God that I <span class="r14">lose</span><br>You do <span class="r11">jack shit</span>, I do <span class="r11">Jack shit</span><br>Always on another level, you can't <span class="r11">match it</span><br>Talking 'bout the flows, then my breath is too <span class="r12">disgusting</span><br>If we talking 'bout the GOATs, then my name in the <span class="r12">discussion</span></p>
</div>`
  },
  {
    title: "Mobile UIs",
    overlayTitle: "Mobile&nbsp;UIs",
    category: "UI/UX Design",
    tools: "Figma",
    year: "2025",
    cover: `img/iPhone_Mockup.png`,
    images: [],
    content: `<p>Two mobile UI projects: MyPinecone, a CRM app redesign focused on simplifying contact management, and Medobar, a beekeeping app concept for a Syracuse-based company.</p>
<h3>MyPinecone</h3>
<p>I analyzed the existing web version, studied competitors, and observed a user testing session. The sign-up flow was cluttered and confusing, so I redesigned it into fewer, clearer screens.</p>
<div class="img-grid-5">
<div class="project-img"><img src="img/all/Goal_Page.png" alt="Goal selection screen" loading="lazy"></div>
<div class="project-img"><img src="img/all/First_Name_Page.png" alt="First Name sign-up screen" loading="lazy"></div>
<div class="project-img"><img src="img/all/Last_Name_Page.png" alt="Last Name sign-up screen" loading="lazy"></div>
<div class="project-img"><img src="img/all/Phone_Page.png" alt="Phone number screen" loading="lazy"></div>
<div class="project-img"><img src="img/all/Verification_Page.png" alt="Verification screen" loading="lazy"></div>
<div class="project-img"><img src="img/all/Password_Page.png" alt="Password screen" loading="lazy"></div>
<div class="project-img"><img src="img/all/Home_Page.png" alt="Redesigned home screen" loading="lazy"></div>
<div class="project-img"><img src="img/all/Interactions_Page.png" alt="Interactions page" loading="lazy"></div>
<div class="project-img"><img src="img/all/AI_Page.png" alt="AI features page" loading="lazy"></div>
<div class="project-img"><img src="img/all/Account_Page.png" alt="Account page design" loading="lazy"></div>
</div>
<p>Interactive Figma prototype <a href="https://www.figma.com/proto/72II3Ud383V7CluTMG3R5H/Pinecone-Redesign?node-id=301-972&starting-point-node-id=301%3A972&t=8rXMJRjZIyKAgn02-1" target="_blank" style="color:var(--accent);text-decoration:underline;">here</a>.</p>
<h3>Medobar</h3>
<p>Medobar: a mobile UI concept for a Syracuse beekeeping company, targeting adults 40+ who are curious about beekeeping. The design needed to feel approachable and simple — the interface uses a hexagon-based layout inspired by honeycomb cells, with customizable modular sections. I also designed a logo using shapes derived from the A, B, and O in the Medobar wordmark.</p>
<div class="img-grid-4x2">
<div class="project-img"><img src="img/all/splash.png" alt="Medobar splash screen" loading="lazy"></div>
<div class="project-img"><img src="img/all/iPhone_13_&_14_-_1.png" alt="Medobar screen 1" loading="lazy"></div>
<div class="project-img"><img src="img/all/iPhone_13_&_14_-_4.png" alt="Medobar screen 4" loading="lazy"></div>
<div class="project-img"><img src="img/all/iPhone_13_&_14_-_5.png" alt="Medobar screen 5" loading="lazy"></div>
<div class="project-img"><img src="img/all/iPhone_13_&_14_-_2.png" alt="Medobar screen 2" loading="lazy"></div>
<div class="project-img"><img src="img/all/iPhone_13_&_14_-_3.png" alt="Medobar screen 3" loading="lazy"></div>
<div class="project-img"><img src="img/all/iPhone_13_&_14_-_6.png" alt="Medobar screen 6" loading="lazy"></div>
<div class="project-img"><img src="img/all/iPhone_13_&_14_-_7.png" alt="Medobar screen 7" loading="lazy"></div>
</div>
<div class="project-img img-landscape"><img src="img/all/iPhone_14_Mockup_(6).png" alt="Medobar high-fidelity mockup" loading="lazy"></div>`
  },
  {
    title: "University Union",
    overlayTitle: "University<br>Union",
    category: "Coming Soon",
    tools: "",
    year: "",
    cover: `img/UU.png`,
    images: [],
    content: `<p>Coming soon.</p>`
  },
  {
    title: "LYRC",
    overlayTitle: "LYRC",
    category: "Coming Soon",
    tools: "",
    year: "",
    cover: `img/LYRC.png`,
    images: [],
    content: `<p>Coming soon.</p>`
  },
  {
    title: "Album Covers",
    category: "Graphic Design / Photography",
    tools: "Photoshop, Illustrator, Photography",
    year: "2024",
    cover: `img/whitenoise.jpg`,
    images: [],
    content: `<p>A collection of album covers combining graphic design and photography — "Visual Harmonies: A Fusion of Lens and Design." Each cover was shot and designed from scratch using Photoshop and Illustrator.</p>
<div class="img-grid-3">
<div class="project-img"><img src="img/all/Loya-Passion-Update-05.jpg" alt="Album cover - Passion update" loading="lazy"></div>
<div class="project-img"><img src="img/all/Loya-Passion-4.jpg" alt="Album cover - Passion series 4" loading="lazy"></div>
<div class="project-img"><img src="img/all/Loya-Passion-6.jpg" alt="Album cover - Passion series 6" loading="lazy"></div>
</div>
<div class="img-grid-2 img-grid-match-above">
<div class="project-img"><img src="img/all/scribbleboy.jpg" alt="Scribbleboy album cover" loading="lazy"></div>
<div class="project-img"><img src="img/all/Loya-Passion-1.jpg" alt="Album cover - Passion series 1" loading="lazy"></div>
</div>`
  },
  {
    title: "Photography Portfolio",
    overlayTitle: "Photography<br>Portfolio",
    category: "Photography",
    tools: "Camera, Lightroom",
    year: "2023",
    cover: `img/Portfolio_01.jpg`,
    images: [],
    content: `<p>Black-and-white photographs from my early exploration of photography — experimenting with light, shadow, texture, and contrast.</p>
<div class="img-compose">
<div class="project-img"><img src="img/all/20231115_VIS201_Loya_Portfolio_03.jpg" alt="B&W photograph 3" loading="lazy"></div>
<div class="project-img"><img src="img/all/20231012_VIS201_Loya_Portfolio_09.jpg" alt="B&W photograph 9" loading="lazy"></div>
<div class="project-img"><img src="img/all/20231002_VIS201_Loya_Portfolio_07.jpg" alt="B&W photograph 7" loading="lazy"></div>
<div class="project-img"><img src="img/all/20231026_VIS201_Loya_Portfolio_02.jpg" alt="B&W photograph 2" loading="lazy"></div>
<div class="project-img"><img src="img/all/20231012_VIS201_Loya_Portfolio_05.jpg" alt="B&W photograph 5" loading="lazy"></div>
<div class="project-img"><img src="img/all/20231102_VIS201_Loya_Portfolio_04.jpg" alt="B&W photograph 4" loading="lazy"></div>
<div class="project-img"><img src="img/all/20231109_VIS201_Loya_Portfolio_06.jpg" alt="B&W photograph 6" loading="lazy"></div>
<div class="project-img"><img src="img/all/20231108_VIS201_Loya_Portfolio_10.jpg" alt="B&W photograph 10" loading="lazy"></div>
<div class="project-img"><img src="img/all/20231014_VIS201_Loya_Portfolio_08.jpg" alt="B&W photograph 8" loading="lazy"></div>
</div>`
  },
  {
    title: "Miscellaneous Projects",
    overlayTitle: "Miscellaneous<br>Projects",
    category: "Mixed / Passion Projects",
    tools: "Various",
    year: "2022–Present",
    cover: `img/2023_Freshmen.jpg`,
    images: [],
    content: `<p>A mix of passion projects, school assignments, professional work, and collaborations. Not every concept made it to production, but each one shaped my process.</p>
<div class="img-grid-tight">
<div class="project-img"><img src="img/all/BlockParty.jpg" alt="Block Party poster" loading="lazy"></div>
<div class="project-img"><img src="img/all/TalentShow.jpg" alt="Talent Show poster design" loading="lazy"></div>
<div class="project-img"><img src="img/all/LUSTv2.jpg" alt="LUST experimental design" loading="lazy"></div>
<div class="project-img"><img src="img/all/PA_Show_v4.jpg" alt="PA Show poster v4" loading="lazy"></div>
<div class="project-img project-img-video" data-video-src="img/all/WebStoryFinal.mp4"><video src="img/all/WebStoryFinal.mp4" autoplay loop muted playsinline style="width:100%;height:100%;object-fit:cover;"></video></div>
<div class="project-img"><img src="img/all/Screenshot_2025-01-29_at_3.07.56_PM.jpg" alt="Design project screenshot" loading="lazy"></div>
<div class="project-img project-img-video" data-video-src="img/all/MLAnim2.mp4" style="grid-column:1/-1;"><video src="img/all/MLAnim2.mp4" autoplay loop muted playsinline style="width:100%;height:auto;object-fit:contain;"></video></div>
<div class="project-img"><img src="img/all/2024VolleyballFinalFour.jpg" alt="2024 Volleyball Final Four design" loading="lazy"></div>
<div class="project-img"><img src="img/all/logic.jpg" alt="Logic-inspired design" loading="lazy"></div>
<div class="project-img"><img src="img/all/2023_MM_Print.jpg" alt="2023 Mixtape Magazine print" loading="lazy" style="object-position:4% center;"></div>
<div class="project-img"><img src="img/all/Screenshot_2024-12-05_at_8.09.22_PM.jpg" alt="Design project screenshot" loading="lazy"></div>
<div class="project-img"><img src="img/all/Screenshot_2024-12-05_at_8.15.10_PM.png" alt="Design project screenshot" loading="lazy"></div>
<div class="project-img"><img src="img/all/Cartoon1-01.jpg" alt="Cartoon illustration" loading="lazy"></div>
<div class="project-img"><img src="img/all/Screenshot_2024-12-05_at_7.20.02_PM.jpg" alt="Design project screenshot" loading="lazy"></div>
<div class="project-img"><img src="img/all/2022_Swim.jpg" alt="2022 Swim design" loading="lazy"></div>
<div class="project-img"><img src="img/all/Screenshot_2024-12-05_at_8.22.22_PM.jpg" alt="Design project screenshot" loading="lazy"></div>
<div class="project-img"><img src="img/all/2023_Billboard.jpg" alt="2023 Billboard design" loading="lazy"></div>
<div class="project-img"><img src="img/all/PlayIn.jpg" alt="Play-In tournament design" loading="lazy"></div>
<div class="project-img"><img src="img/all/Screenshot_2024-12-05_at_7.15.19_PM.jpg" alt="Design project screenshot" loading="lazy"></div>
</div>`
  }
];

/* ── P2 FUNCTIONS ── */

function exitP2() {
  window.p2Exit();
}

function p2ShowAbout() {
  document.getElementById('p2Scene').classList.add('zoomed-out');
  document.getElementById('p2About').classList.add('visible');
}

function p2CloseAbout() {
  document.getElementById('p2Scene').classList.remove('zoomed-out');
  document.getElementById('p2About').classList.remove('visible');
}

function p2ShowContact() {
  document.getElementById('p2Scene').classList.add('zoomed-out');
  document.getElementById('p2Contact').classList.add('visible');
}

function p2CloseContact() {
  document.getElementById('p2Scene').classList.remove('zoomed-out');
  document.getElementById('p2Contact').classList.remove('visible');
}

// ── P2 project state ──
var _p2ProjectOpen = false;

/* Wire lightbox clicks for images/videos inside the project body */
function p2ShowProject(index, el) {
  const p = projects[index];
  if (!p || _p2ProjectOpen) return;
  _p2ProjectOpen = true;

  const overlay = document.getElementById('p2Project');
  const scene = document.getElementById('p2Scene');
  const scrollEl = overlay.querySelector('.p2-project-scroll');

  // Populate content
  document.getElementById('p2ProjectTitle').textContent = p.title;
  document.getElementById('p2ProjectCategory').textContent = p.category;
  document.getElementById('p2ProjectTools').textContent = p.tools;
  document.getElementById('p2ProjectYear').textContent = p.year;
  document.getElementById('p2ProjectBody').innerHTML = p.content;
  document.getElementById('p2ProjectHeroImg').src = p.cover;
  document.getElementById('p2ProjectHeroImg').alt = p.title;
  scrollEl.scrollTop = 0;

  // Reset visibility for stagger
  document.getElementById('p2ProjectHero').classList.remove('visible');
  document.getElementById('p2ProjectHeader').classList.remove('visible');
  document.getElementById('p2ProjectBody').classList.remove('visible');
  document.getElementById('p2ProjectBackRow').classList.remove('visible');

  // Zoom out scene (same as about/contact)
  scene.classList.add('zoomed-out');

  // Show project overlay
  overlay.classList.add('visible');

  // Stagger in elements
  setTimeout(() => { document.getElementById('p2ProjectHero').classList.add('visible'); }, 80);
  setTimeout(() => { document.getElementById('p2ProjectBackRow').classList.add('visible'); }, 150);
  setTimeout(() => { document.getElementById('p2ProjectHeader').classList.add('visible'); }, 220);
  setTimeout(() => {
    document.getElementById('p2ProjectBody').classList.add('visible');
    initSongPlayer();
    p2WireProjectLightbox();
  }, 320);
}

function p2CloseProject() {
  if (!_p2ProjectOpen) return;

  const overlay = document.getElementById('p2Project');
  const scene = document.getElementById('p2Scene');

  // Fade out project elements
  document.getElementById('p2ProjectHero').classList.remove('visible');
  document.getElementById('p2ProjectBackRow').classList.remove('visible');
  document.getElementById('p2ProjectHeader').classList.remove('visible');
  document.getElementById('p2ProjectBody').classList.remove('visible');

  // After content fades, hide overlay and restore scene
  setTimeout(() => {
    overlay.classList.remove('visible');
    scene.classList.remove('zoomed-out');
    _p2ProjectOpen = false;
  }, 400);
}

function p2WireProjectLightbox() {
  // No-op: lightbox is handled by delegation below
}

/* ── LIGHTBOX ── */
const lightbox = document.getElementById('lightbox');
const lightboxImg = document.getElementById('lightboxImg');
const lightboxClose = lightbox.querySelector('.lightbox-close');
const lightboxVideo = document.getElementById('lightboxVideo');

let lbItems = [];
let lbIndex = 0;

function showLightboxItem(idx) {
  lbIndex = idx;
  const item = lbItems[idx];
  if (!item) return;

  const vid = item.querySelector('video');
  const img = item.querySelector('img');

  lightboxImg.style.display = 'none';
  lightboxVideo.style.display = 'none';
  lightboxVideo.pause();

  if (vid && item.classList.contains('project-img-video')) {
    lightboxVideo.src = vid.src;
    lightboxVideo.currentTime = vid.currentTime;
    lightboxVideo.muted = true;
    lightboxVideo.loop = true;
    lightboxVideo.play();
    lightboxVideo.style.display = 'block';
  } else if (img) {
    lightboxImg.src = img.src;
    lightboxImg.style.display = 'block';
  }
  lightbox.classList.add('open');
}

/* Single delegated click handler for all project images */
document.addEventListener('click', function(e) {
  if (lightbox.classList.contains('open')) return;
  if (!_p2ProjectOpen) return;

  /* Check if click is on the hero image */
  const hero = document.getElementById('p2ProjectHero');
  if (hero && hero.contains(e.target)) {
    e.preventDefault();
    e.stopPropagation();
    const heroImg = document.getElementById('p2ProjectHeroImg');
    if (!heroImg) return;
    /* Build lightbox list: hero first, then all body images */
    const body = document.getElementById('p2ProjectBody');
    const bodyItems = body ? Array.from(body.querySelectorAll('.project-img')) : [];
    lbItems = [hero].concat(bodyItems);
    lbIndex = 0;
    /* Show hero in lightbox */
    lightboxImg.style.display = 'none';
    lightboxVideo.style.display = 'none';
    lightboxVideo.pause();
    lightboxImg.src = heroImg.src;
    lightboxImg.style.display = 'block';
    lightbox.classList.add('open');
    return;
  }

  /* Check if click is on a project-img inside the body */
  const imgEl = e.target.closest('.project-img');
  if (!imgEl) return;
  const body = document.getElementById('p2ProjectBody');
  if (!body || !body.contains(imgEl)) return;

  e.preventDefault();
  e.stopPropagation();

  const bodyItems = Array.from(body.querySelectorAll('.project-img'));
  lbItems = [hero].concat(bodyItems);
  lbIndex = lbItems.indexOf(imgEl);
  if (lbIndex === -1) { lbItems = bodyItems; lbIndex = bodyItems.indexOf(imgEl); }
  if (lbIndex === -1) { lbItems = [imgEl]; lbIndex = 0; }

  showLightboxItem(lbIndex);
}, true);

function closeLightbox() {
  if (lbItems[lbIndex]) {
    lbItems[lbIndex].scrollIntoView({ behavior: 'instant', block: 'center' });
  }
  lightbox.classList.remove('open');
  setTimeout(() => {
    lightboxVideo.pause();
    lightboxVideo.style.display = 'none';
    lightboxVideo.removeAttribute('src');
    lightboxImg.style.display = 'none';
    lightboxImg.removeAttribute('src');
  }, 300);
  lbItems = [];
  lbIndex = 0;
}

lightbox.addEventListener('click', (e) => {
  if (e.target === lightbox || e.target === lightboxImg || e.target === lightboxVideo) closeLightbox();
});
lightboxClose.addEventListener('click', (e) => {
  e.stopPropagation();
  closeLightbox();
});

/* ── ESC KEY HANDLER ── */
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    // Lightbox first
    if (lightbox.classList.contains('open')) { closeLightbox(); return; }
    // P2 overlays
    if (_p2ProjectOpen) { p2CloseProject(); return; }
    if (document.getElementById('p2About').classList.contains('visible')) { p2CloseAbout(); return; }
    if (document.getElementById('p2Contact').classList.contains('visible')) { p2CloseContact(); return; }
    if (document.getElementById('p2ComingSoon').classList.contains('active')) { document.getElementById('p2ComingSoon').classList.remove('active'); return; }
    // Top level — fall out to die landing
    window.p2Exit();
  }
});

/* Lightbox arrow keys */
document.addEventListener('keydown', (e) => {
  if (!lightbox.classList.contains('open')) return;
  if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
    e.preventDefault();
    if (lbItems.length > 1) {
      if (lbIndex === lbItems.length - 1) showLightboxItem(0);
      else showLightboxItem(lbIndex + 1);
    }
  }
  if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
    e.preventDefault();
    if (lbItems.length > 1) {
      if (lbIndex === 0) showLightboxItem(lbItems.length - 1);
      else showLightboxItem(lbIndex - 1);
    }
  }
});

/* ── CUSTOM AUDIO PLAYER ── */
function initSongPlayer() {
  const audio = document.getElementById('spAudio');
  const playBtn = document.getElementById('spPlay');
  const prog = document.getElementById('spProg');
  const bar = document.getElementById('spBar');
  const curEl = document.getElementById('spCur');
  const durEl = document.getElementById('spDur');
  if (!audio || audio._spInit) return;
  audio._spInit = true;
  const fmt = s => { const m=Math.floor(s/60); return m+':'+(Math.floor(s%60)+'').padStart(2,'0'); };
  audio.addEventListener('loadedmetadata', () => { durEl.textContent = fmt(audio.duration); });
  if (audio.duration) durEl.textContent = fmt(audio.duration);
  audio.addEventListener('timeupdate', () => {
    if (!audio.duration) return;
    prog.style.width = (audio.currentTime/audio.duration*100)+'%';
    curEl.textContent = fmt(audio.currentTime);
  });
  audio.addEventListener('ended', () => { playBtn.innerHTML = '<svg viewBox="0 0 24 24"><polygon points="6,3 20,12 6,21" fill="currentColor"/></svg>'; });
  playBtn.addEventListener('click', () => {
    if (audio.paused) {
      audio.play();
      playBtn.innerHTML = '<svg viewBox="0 0 24 24"><rect x="5" y="3" width="4" height="18" fill="currentColor"/><rect x="15" y="3" width="4" height="18" fill="currentColor"/></svg>';
    } else {
      audio.pause();
      playBtn.innerHTML = '<svg viewBox="0 0 24 24"><polygon points="6,3 20,12 6,21" fill="currentColor"/></svg>';
    }
  });
  bar.addEventListener('click', e => {
    e.preventDefault();
    e.stopPropagation();
    if (!audio.duration) return;
    const r = bar.getBoundingClientRect();
    const pct = Math.max(0, Math.min(1, (e.clientX - r.left) / r.width));
    audio.currentTime = pct * audio.duration;
  });
  prog.addEventListener('click', e => {
    e.preventDefault();
    e.stopPropagation();
    if (!audio.duration) return;
    const r = bar.getBoundingClientRect();
    const pct = Math.max(0, Math.min(1, (e.clientX - r.left) / r.width));
    audio.currentTime = pct * audio.duration;
  });
}

/* ── P2: FLOATING PORTFOLIO — AUTO-INIT ── */
let p2Initialized = false;
(function initP2() {
  if (p2Initialized) return;
  p2Initialized = true;

  const scene = document.getElementById('p2Scene');
  const w = window.innerWidth;
  const h = window.innerHeight;

  window.p2Items = window.p2Items || [];
  const p2Items = window.p2Items;
  const positions = [
    { x: 0.12, y: 0.18, z: -80,  s: 200 },
    { x: 0.78, y: 0.15, z: -120, s: 170 },
    { x: 0.08, y: 0.65, z: -50,  s: 190 },
    { x: 0.82, y: 0.60, z: -100, s: 160 },
    { x: 0.30, y: 0.78, z: -30,  s: 180 },
    { x: 0.65, y: 0.80, z: -90,  s: 175 },
    { x: 0.20, y: 0.40, z: -60,  s: 155 },
    { x: 0.72, y: 0.38, z: -110, s: 165 },
    { x: 0.50, y: 0.12, z: -70,  s: 185 },
  ];

  projects.forEach((p, i) => {
    const pos = positions[i] || { x: Math.random() * 0.6 + 0.2, y: Math.random() * 0.6 + 0.2, z: -Math.random() * 100, s: 160 };
    const el = document.createElement('div');
    el.className = 'p2-item';
    el.style.width = pos.s + 'px';
    el.innerHTML = `<img src="${p.cover}" alt="${p.title}">`;

    /* Photography: start square, expand to natural on hover */
    if (p.title === 'Photography Portfolio') {
      el.classList.add('p2-item-square');
      el.style.setProperty('--p2-item-size', pos.s + 'px');
      const img = el.querySelector('img');
      img.addEventListener('load', () => {
        const natural = (img.naturalHeight / img.naturalWidth) * pos.s;
        el.style.setProperty('--p2-item-natural', natural + 'px');
      });
    }

    el.addEventListener('click', () => {
      p2ShowProject(i, el);
    });
    el.addEventListener('mouseenter', () => { el.style.filter = 'blur(0px)'; });
    el.addEventListener('mouseleave', () => { el.style.filter = `blur(${el._baseBlur}px)`; });
    scene.appendChild(el);

    const restX = pos.x * w - pos.s / 2;
    const restY = pos.y * h - pos.s / 2;
    const restZ = pos.z;

    const maxZ = 0, minZ = -150;
    const zRange = maxZ - minZ;
    const zNorm = (pos.z - minZ) / zRange;
    const blurAmt = (1 - zNorm) * 4;
    const scaleAmt = 0.7 + zNorm * 0.3;
    el.style.filter = `blur(${blurAmt}px)`;
    el.style.zIndex = Math.round(zNorm * 10);
    el._baseBlur = blurAmt;
    el._scale = scaleAmt;

    p2Items.push({
      el, restX, restY, scaleAmt,
      bobPhase: Math.random() * Math.PI * 2,
      bobSpeed: 0.3 + Math.random() * 0.3,
      bobAmp: 6 + Math.random() * 10,
    });
  });

  // Add floating die (clickable - returns to die landing)
  const dieFloat = document.createElement('div');
  dieFloat.className = 'p2-die-float';
  dieFloat.innerHTML = '<div class="die-dot"></div><div class="die-dot"></div>';
  dieFloat.style.cssText = 'position:absolute;width:50px;height:50px;background:#e8e4de;border-radius:6px;display:grid;grid-template-columns:1fr;padding:10px;cursor:pointer;z-index:20;filter:blur(1.5px);transition:filter 0.5s ease, box-shadow 0.3s;';
  dieFloat.querySelectorAll('.die-dot').forEach((d, i) => {
    d.style.cssText = 'width:10px;height:10px;background:#1a1a1a;border-radius:50%;position:static;';
    d.style.justifySelf = i === 0 ? 'end' : 'start';
    d.style.alignSelf = i === 0 ? 'start' : 'end';
  });
  let dieHovered = false;
  dieFloat.addEventListener('click', () => { window.p2Exit(); });
  dieFloat.addEventListener('mouseenter', () => { dieHovered = true; dieFloat.style.filter = 'blur(0px)'; dieFloat.style.boxShadow = '0 4px 16px rgba(0,0,0,0.08)'; });
  dieFloat.addEventListener('mouseleave', () => { dieHovered = false; dieFloat.style.filter = 'blur(1.5px)'; dieFloat.style.boxShadow = ''; });
  scene.appendChild(dieFloat);
  const dieRestX = w * 0.88;
  const dieRestY = h * 0.25;

  const titleEl = scene.querySelector('.p2-title');
  titleEl.style.willChange = 'transform, opacity';
  titleEl.style.opacity = '0';

  const startTime = performance.now();
  const stagger = 150;
  const floatDur = 2000;

  // Fall-out state
  let p2Falling = false;
  let p2FallStart = 0;

  window.p2Exit = function() {
    if (p2Falling) return;
    p2Falling = true;
    p2FallStart = performance.now();
    // Snapshot current positions mid-bob
    p2Items.forEach(item => {
      const m = item.el.style.transform.match(/translate3d\(([^,]+)px,\s*([^,]+)px/);
      item._fallFromY = m ? parseFloat(m[2]) : item.restY;
    });
    const dm = dieFloat.style.transform.match(/translate3d\(([^,]+)px,\s*([^,]+)px/);
    window._dieFallFromY = dm ? parseFloat(dm[2]) : dieRestY;
    setTimeout(() => { window.location.href = 'index.html?from=2'; }, 800);
  };

  function easeOutQuint(t) { return 1 - Math.pow(1 - t, 5); }
  function easeInQuad(t) { return t * t; }

  function tick(now) {
    const elapsed = now - startTime;

    // ── FALLING OUT ──
    if (p2Falling) {
      const fallElapsed = now - p2FallStart;
      const fallT = Math.min(fallElapsed / 700, 1);
      const fallEase = easeInQuad(fallT); // accelerate like gravity

      // Title just fades (no movement)
      titleEl.style.opacity = Math.max(1 - fallT * 5, 0);

      // Items fall from wherever they were
      p2Items.forEach((item, i) => {
        const fromY = item._fallFromY || item.restY;
        const targetY = window.innerHeight + 200 + i * 50;
        const curY = fromY + (targetY - fromY) * fallEase;
        item.el.style.transform = `translate3d(${item.restX}px, ${curY}px, 0) scale(${item.scaleAmt})`;
      });

      // Die float falls from wherever it was
      const dieFromY = window._dieFallFromY || dieRestY;
      const dieTargetY = window.innerHeight + 300;
      const dieCurY = dieFromY + (dieTargetY - dieFromY) * fallEase;
      dieFloat.style.transform = `translate3d(${dieRestX}px, ${dieCurY}px, 0) scale(0.85)`;

      requestAnimationFrame(tick);
      return;
    }

    // ── NORMAL FLOAT-IN + BOB ──
    // Float in title + bob
    const titleT = Math.min(Math.max((elapsed - 200) / 1200, 0), 1);
    const titleEase = easeOutQuint(titleT);
    titleEl.style.opacity = titleEase;
    const titleBobBlend = Math.min(Math.max((titleT - 0.8) / 0.2, 0), 1);
    const titleBob = Math.round(Math.sin(elapsed * 0.0004) * 6 * titleBobBlend * 100) / 100;
    const titleOffset = -50 + (1 - titleEase) * 20;
    titleEl.style.transform = `translate3d(-50%, calc(${titleOffset}% + ${titleBob}px), 0)`;

    p2Items.forEach((item, i) => {
      const delay = i * stagger;
      const rawT = Math.max((elapsed - delay) / floatDur, 0);
      const t = Math.min(rawT, 1);
      const ease = easeOutQuint(t);

      const bobBlend = Math.min(Math.max(rawT - 1, 0), 1);
      const bobY = item._frozen ? 0 : Math.sin(elapsed * 0.001 * item.bobSpeed + item.bobPhase) * item.bobAmp * bobBlend;

      const startY = window.innerHeight + 200 + i * 50;
      const curY = Math.round((startY + (item.restY - startY) * ease + bobY) * 100) / 100;
      item.el.style.transform = `translate3d(${item.restX}px, ${curY}px, 0) scale(${item.scaleAmt})`;
    });

    // Float the die
    const dieT = Math.min(Math.max((elapsed - projects.length * stagger) / floatDur, 0), 1);
    const dieEase = easeOutQuint(dieT);
    const dieBobBlend = Math.min(Math.max((dieT - 0.8) / 0.2, 0), 1);
    const dieBob = Math.round(Math.sin(elapsed * 0.0004 + 1.5) * 8 * dieBobBlend * 100) / 100;
    const startDY = window.innerHeight + 300;
    const dieBaseY = startDY + (dieRestY - startDY) * dieEase;
    const dieCurY = Math.round((dieBaseY + dieBob) * 100) / 100;
    dieFloat.style.transform = `translate3d(${dieRestX}px, ${dieCurY}px, 0) scale(0.85)`;

    requestAnimationFrame(tick);
  }

  requestAnimationFrame(tick);
})();

</script>

</body>
</html>
